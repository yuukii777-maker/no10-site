/* ====== ナビ全体（常に最前面） ====== */
.nav{
  position: fixed; top: 0; left: 0; right: 0;
  z-index: 60;                    /* Portal の前景(z:40/50)より上に */
  pointer-events: auto;

  padding-top: env(safe-area-inset-top, 0);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);

  /* 変数が無い環境でも成立するようにフォールバックを併記 */
  background: var(--nav-bg, linear-gradient(to bottom, rgba(8,10,20,.72) 0%, rgba(8,10,20,.45) 60%, rgba(8,10,20,0) 100%));
  border-bottom: 1px solid var(--nav-border, rgba(255,255,255,.08));
  color: var(--text, #fff);
}

.inner{
  max-width:1240px;
  margin:0 auto;
  height:64px;                       /* ヘッダーの確定高さ */
  padding:10px 14px;
  display:flex; align-items:center; gap:12px;
}

/* ====== ロゴ（ブランド） ====== */
.brand{
  display:inline-block; font-weight:900; letter-spacing:.08em; line-height:1; font-size:18px;
  background: linear-gradient(
    180deg,
    var(--brand-top, #fff) 0%,
    var(--brand-mid, #ffe2a3) 45%,
    var(--brand-btm, #ffd27a) 100%
  );
  -webkit-background-clip:text; color:transparent; -webkit-text-fill-color:transparent;
  text-shadow: 0 4px 20px rgba(255,220,120,.15);
  margin-right:8px; text-decoration:none; white-space:nowrap;
}
.brand:focus-visible{ outline:2px solid var(--gold-2, #ffd27a); outline-offset:2px; border-radius:6px }

.spacer{ flex:1 }

/* ====== リンク群（PC 横並び） ====== */
.links{
  display:flex; gap:6px; align-items:center;
  transition: max-height .25s ease, opacity .2s ease;
}

.link{
  position:relative; display:inline-block; padding:10px 12px;
  color:var(--text, #fff); font-weight:800; letter-spacing:.06em;
  text-decoration:none; opacity:.95; transition:opacity .2s ease; border-radius:8px;
}
.link:hover{ opacity:1 }
.link:focus-visible{ outline:2px solid var(--gold-2, #ffd27a); outline-offset:2px }

/* アクティブ下線 */
.link::after{
  content:""; position:absolute; left:12px; right:12px; bottom:6px; height:2px;
  background:linear-gradient(90deg,var(--gold-1, #ffefc2),var(--gold-2, #ffd27a),var(--gold-1, #ffefc2));
  border-radius:2px; box-shadow:0 0 16px rgba(255,220,120,.35);
  transform:translateY(4px); opacity:0; transition:transform .25s ease, opacity .25s ease;
}
.link:hover::after{ transform:translateY(0); opacity:.6 }
.active::after{ transform:translateY(0); opacity:1 }

/* ====== モバイル開閉ボタン ====== */
.menuBtn{
  display:none; padding:8px 12px; border-radius:10px; cursor:pointer;
  font-weight:800; color:#fff; letter-spacing:.06em;
  background:rgba(255,255,255,.06); border:1px solid var(--nav-border, rgba(255,255,255,.12));
}
.menuBtn:active{ transform:translateY(1px) }
.menuBtn:focus-visible{ outline:2px solid var(--gold-2, #ffd27a); outline-offset:2px }

/* ハンバーガーの見た目（TSX 側で <span className={s.menuIcon}/> を使う） */
.menuIcon{
  width:18px; height:2px; background:#fff; position:relative; display:inline-block; margin-right:8px;
}
.menuIcon::before, .menuIcon::after{
  content:""; position:absolute; left:0; right:0; height:2px; background:#fff;
}
.menuIcon::before{ top:-6px } .menuIcon::after{ top:6px }
.menuText{ font-size:13px }

/* ====== モバイル（860px 以下）だけ折り畳む ====== */
@media (max-width:860px){
  .inner{ height:56px }
  .menuBtn{ display:inline-flex }

  /* メニューはヘッダー直下にドロップ */
  .links{
    position:absolute;
    top: calc(56px + env(safe-area-inset-top, 0));
    left:0; right:0;
    padding:12px 14px 14px;
    flex-direction:column; align-items:flex-start; gap:10px;

    background: rgba(8,10,20,.85);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255,255,255,.08);
  }
  .link{ width:100%; padding:10px 6px }
  .link::after{ left:6px; right:6px; bottom:2px }

  /* ← 折りたたみはモバイル時のみ適用 */
  .isCollapsed{ max-height:0; opacity:0; overflow:hidden }
  .isOpen{ max-height:60vh; opacity:1 }
}

/* ====== モーション軽減 ====== */
@media (prefers-reduced-motion: reduce){
  .link, .link::after, .links{ transition:none }
}
